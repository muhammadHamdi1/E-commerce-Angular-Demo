<section>
  <div class="container-fluid py-5">
    <h1 class="text-color-secondary capitalize">all cart products</h1>
    <!-- Data view -->
    <p-dataView #dv [value]="allCartProducts" [rows]="5" [paginator]="true">
      <ng-template pTemplate="list" let-allCartProducts>
        <div class="grid grid-nogutter">
          @for (product of allCartProducts; track $index){
          <div class="col-12">
            <div
              class="flex flex-column sm:flex-row sm:align-items-center p-4 gap-3"
              [ngClass]="{ 'border-top-1 surface-border': !$first }"
            >
              <div class="md:w-10rem relative">
                <img
                  class="block xl:block mx-auto border-round w-full"
                  [src]="product.image"
                  [alt]="product.title"
                />
              </div>
              <div
                class="flex flex-column md:flex-row justify-content-between md:align-items-center flex-1 gap-4"
              >
                <div
                  class="flex flex-row md:flex-column justify-content-between align-items-start gap-2"
                >
                  <div>
                    <span
                      class="font-medium text-secondary capitalize text-sm"
                      >{{ product.category }}</span
                    >
                    <div class="text-lg font-medium text-900 mt-2">
                      {{ product.title | slice : 0 : 35 }}
                    </div>
                  </div>
                </div>
                <!-- Next Product Price -->
                <!-- <div class="flex flex-column md:align-items-end gap-5">
                  <span class="text-xl font-semibold text-900">{{
                    "$" + product.price
                  }}</span> -->
                <!-- <div class="flex flex-row-reverse md:flex-row gap-2">
                    <p-button
                      icon="pi pi-heart"
                      [outlined]="true"
                      severity="warning"
                    />
                    ///////////////
                  </div> -->
                <!-- Button pi-heart -->
                <!-- <div class="mt-2">
                    @if(isHart == false){
                    <p-button
                      (click)="isHart = true"
                      class="heart"
                      icon="pi pi-heart"
                      [outlined]="true"
                      severity="warning"
                    />
                    } @if(isHart == true){
                    <p-button
                      (click)="isHart = false"
                      class="heart"
                      icon="pi pi-heart-fill"
                      [outlined]="true"
                      severity="warning"
                    />
                    }
                  </div>
                </div>-->
                <div class="flex flex-row justify-content-between gap-5">
                  <div class="mt-3">
                    <span class="text-xl font-semibold text-900">{{
                      "$" + product.price
                    }}</span>
                  </div>
                  <!-- Button pi-heart -->
                  <div class="mt-2 flex justify-content-end">
                    @if(!product.hart == true){
                    <p-button
                      (click)="product.hart = true"
                      class="heart"
                      icon="pi pi-heart"
                      [outlined]="true"
                      severity="warning"
                    />
                    } @if(product.hart == true){
                    <p-button
                      (click)="product.hart = false"
                      class="heart"
                      icon="pi pi-heart-fill"
                      [outlined]="true"
                      severity="warning"
                    />
                    }
                  </div>
                </div>
              </div>
            </div>
          </div>
          }
        </div>
      </ng-template>
    </p-dataView>
    @if(allCartProducts.length > 0){
    <p-button
      (click)="clearCart()"
      label="clear cart"
      severity="warning"
      styleClass="my-2 uppercase w-full"
      icon="pi pi-cart-minus text-xl"
      iconPos="right"
    />

    } @if(allCartProducts.length == 0){
    <p-button
      [routerLink]="['/user/home']"
      label="Go Back Home"
      severity="contrast"
      styleClass="my-2 uppercase w-full"
      icon="pi pi-home text-xl"
      iconPos="right"
    />
    }
  </div>
</section>
