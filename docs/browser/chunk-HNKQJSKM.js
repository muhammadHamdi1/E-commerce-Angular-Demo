import{a as n}from"./chunk-HTFUH5GH.js";import{w as c}from"./chunk-7OHDHKLD.js";import{T as s,Y as r,k as o}from"./chunk-GCLD3WRZ.js";var g=(()=>{class i{constructor(e,t){this._httpClient=e,this._notifecationsService=t,this.countOfCart=new o(JSON.parse(localStorage.getItem("cartState")??"[]").length)}ngOnChanges(){this.countOfCart}addToCart(e){let t=localStorage.getItem("cartState"),a=t?JSON.parse(t):[];e.isAddedToCart?this._notifecationsService.showWarn("Warning","This item is add"):(e.isAddedToCart=!0,a.push(e),localStorage.setItem("cartState",JSON.stringify(a)),this._notifecationsService.showSuccess("Success","Item added to cart"),this.countOfCart.next(a.length))}isAddedToCart(e){let t=localStorage.getItem("cartState");return(t?JSON.parse(t):[]).some(d=>d.id===e.id)}static{this.\u0275fac=function(t){return new(t||i)(r(c),r(n))}}static{this.\u0275prov=s({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{g as a};
